<div class="container main-container">
  <h1>Adicionar Novo Produto</h1>

  <form novalidate (ngSubmit)="addProduct()" [formGroup]="productForm">

    <div class="alert alert-danger" *ngIf="errors.length > 0">
      <ul>
        <li *ngFor="let error of errors">{{ error }}</li>
      </ul>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Nome do Produto</label>
      <div class="col-md-10">
        <input #formInput class="form-control" id="description" type="text" placeholder="Nome do Produto"
          formControlName="description" [ngClass]="{'is-invalid': displayMessage['description']}" />
        <span class="text-danger" *ngIf="displayMessage['description']">
          <p [innerHTML]="displayMessage['description']"></p>
        </span>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Departamento</label>
      <div class="col-md-10">
        <select class="form-control" id="departmentCode" formControlName="departmentCode"
          [ngClass]="{'is-invalid': displayMessage['departmentCode']}">
          <option *ngFor="let department of departments" [value]="department.code">
            {{ department.code }} | {{ department.description }}
          </option>
        </select>
        <span class="text-danger" *ngIf="displayMessage['departmentCode']">
          <p [innerHTML]="displayMessage['departmentCode']"></p>
        </span>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Preço</label>
      <div class="col-md-10">
        <input class="form-control" id="price" type="text" placeholder="Preço" formControlName="price"
          [ngClass]="{'is-invalid': productForm.get('price')?.invalid && productForm.get('price')?.touched}"
          mask="separator.2" thousandSeparator="." decimalMarker="," prefix="R$ " />
        <span class="text-danger" *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched">
        </span>
      </div>
    </div>

    <div class="form-group">
      <div class="col-md-10">
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"
            formControlName="status" checked>
          <label class="form-check-label" for="flexSwitchCheckDefault">Ativo</label>
        </div>
        <span class="text-danger" *ngIf="displayMessage['status']">
          <p [innerHTML]="displayMessage['status']"></p>
        </span>
      </div>
    </div>

    <div class="form-group">
      <div class="col-md-4 col-md-offset-2">
        <button class="btn btn-success" id="Adicionar" [disabled]="!productForm.valid" type="submit">Adicionar
          Produto</button>
      </div>
    </div>
  </form>
</div>